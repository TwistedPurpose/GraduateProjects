
@{
    ViewBag.Title = "Campaign Hub";
}

<div class="container-fluid" style="margin-top: 20px;">

    <div class="row">
        <div class="col-md-3">
            <select style="height: 100%" data-bind="options: SessionList,
                   optionsText: function(item) {
                       return item.NumberSessionTitle;
                   },
                   value: CurrentSession"></select>
        </div>
        <div class="col-md-9">
            <a data-bind="click:newSession">
                <span class="glyphicon glyphicon-plus"></span>
            </a>
        </div>
    </div>

    <div class="row">
        <div class="col-md-1">
            <span>Session Number</span>
        </div>

        <div class="col-md-11">
            <span>Title</span>
        </div>
    </div>

    <div class="row">
        <div class="col-md-1">
            <span data-bind="text:CurrentSession().SessionNumber" style="width:100%"></span>
        </div>

        <div class="col-md-11">
            <input data-bind="textInput:CurrentSession().Title" style="width:100%" />
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <span>Notes</span>
        </div>
    </div>

    <div class="row">
        <div class="col-md-12">
            <textarea data-bind="textInput:CurrentSession().Notes" class="notes-text-edit" rows="12"></textarea>
        </div>
    </div>

    <div class="row" style="margin-bottom: 20px; margin-top:20px;">
        <div class="col-md-12">
            <button data-bind="click:saveSession" class="btn btn-default">Save Session</button>
        </div>
    </div>

    <div class="row">
        <div class="col-sm-8 map">
            <canvas id="mapCanvas"></canvas>
            @*<div class="google-map-canvas" id="map">
            </div>*@
        </div>

        <div class="col-sm-4">

            <div class="row">
                <div class="col-sm-4">
                    <button class="btn btn-default" data-bind="click:showMapModal">Upload Map</button>

                    <button class="btn btn-default disabled">Set Root Map</button>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4">
                    <button class="btn btn-default" data-bind="click:addExistingCharacters">Add existing character</button>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4">
                    <button class="btn btn-default" data-bind="click:createCharacter">New Character</button>
                    <ul class="row" data-bind="foreach:CharacterList">
                        <li>
                            <a data-bind="click:$parent.editCharacter">
                                <span data-bind="text:Name" />
                            </a>
                        </li>
                    </ul>
                </div>

            </div>

            <div class="row">
                <div class="col-sm-4">
                    <button class="btn btn-default" data-bind="click:addExistingItems">Include Existing Items</button>
                </div>
            </div>

            <div class="row">
                <div class="col-sm-4">
                    <button class="btn btn-default" data-bind="click:showAddEditItemModal">Add An Item</button>
                    <ul class="row" data-bind="foreach:ItemList">
                        <li>
                            <a data-bind="click:$parent.editItem">
                                <span data-bind="text:Name" />
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

@Html.Partial("_AddEditCharacterModal")
@Html.Partial("_ExistingCharacterModal")
@Html.Partial("_CrudItemModal")
@Html.Partial("_ExistingItemModal")
@Html.Partial("_UploadMapModal")


<script>
    var campaignId = @ViewBag.CampaignId;
</script>

<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCBLS0MX9AwHUlg0Zkvodyp3sjDPdrrB9c"></script>
@Scripts.Render("~/bundles/maps")
@Scripts.Render("~/bundles/character")
@Scripts.Render("~/bundles/item")
@Scripts.Render("~/bundles/hub")